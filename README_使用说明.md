# 自动化仓库管理工具使用说明

## 🎯 功能说明

这是一个**自动化仓库管理工具**，包含两个主要功能：

### 1. 仓库创建功能
- **Gitee**：国内平台，访问速度快
- **GitHub**：国际平台，生态丰富
- **独立选择**：每次只能选择一个平台创建仓库

### 2. 自动提交功能（新功能）
- **完全自动化**：文件变化时自动提交并推送
- **定时提交**：可设置任意时间间隔自动检查并提交
- **智能防重复**：避免频繁提交相同内容
- **多平台同步**：自动推送到GitHub和Gitee

## 🚀 快速开始

### 第一步：配置信息

编辑 `create_repo.sh`，修改配置：

```bash
# Gitee配置（已配置好）
GITEE_USERNAME="J_XH"
GITEE_TOKEN="4131649cbf28dbfc7e822312e82b671b"

# GitHub配置（需要您配置）
GITHUB_USERNAME="您的GitHub用户名"
GITHUB_TOKEN="您的GitHub访问令牌"
```

### 第二步：安装脚本

```bash
chmod +x create_repo.sh setup_repo_automation.sh
./setup_repo_automation.sh
```

### 第三步：使用脚本

#### 创建仓库
```bash
# 进入项目目录
cd ~/Desktop/my-project

# 选择创建Gitee仓库
create_repo.sh gitee my-project "我的项目"

# 或者选择创建GitHub仓库
create_repo.sh github my-project "My Project"
```

#### 启动自动提交功能
```bash
# 方式1：交互式选择（推荐）
./start_auto_commit.sh

# 方式2：直接启动文件监控
./auto_commit_watcher.sh

# 方式3：定时自动提交（每60秒）
./auto_commit_timer.sh 60
```

## 📋 使用场景

### 场景1：只使用Gitee
```bash
create_repo.sh gitee project-name "项目描述"
```

### 场景2：只使用GitHub
```bash
create_repo.sh github project-name "Project Description"
```

### 场景3：根据项目类型选择平台
- **国内项目**：选择Gitee（速度快）
- **开源项目**：选择GitHub（生态好）
- **学习项目**：两个都可以

## ✨ 脚本特点

- 🎯 **独立选择**：每次只创建一个平台的仓库
- 🚀 **一键完成**：自动初始化Git、创建README、推送代码
- 🔧 **灵活配置**：可以只配置一个平台使用
- 📝 **自动生成**：自动创建项目说明文档

## ❓ 常见问题

**Q: 可以同时创建两个平台的仓库吗？**
A: 不可以。每次只能选择一个平台。如果需要两个平台，需要分别运行两次命令。

**Q: 只配置一个平台可以吗？**
A: 可以。如果只配置Gitee，就只能创建Gitee仓库；只配置GitHub，就只能创建GitHub仓库。

**Q: 如何获取访问令牌？**
A: 参考 `README_双平台使用说明.md` 中的详细步骤。

## 🔄 平台对比

| 特性 | Gitee | GitHub |
|------|-------|--------|
| 访问速度 | ✅ 国内快 | ⚠️ 可能慢 |
| 中文支持 | ✅ 优秀 | ⚠️ 一般 |
| 社区生态 | ⚠️ 较小 | ✅ 庞大 |
| 私有仓库 | ✅ 免费 | ⚠️ 有限制 |
| 学习资源 | ⚠️ 较少 | ✅ 丰富 |

选择哪个平台，完全根据您的需求决定！

## 🤖 自动提交功能详解

### 功能概述
自动提交功能让您无需手动执行`git commit`和`git push`，系统会自动检测文件变化并提交推送。

### 三种使用模式

#### 1. 文件监控模式（推荐）
```bash
./auto_commit_watcher.sh
```
- **特点**：文件一变化就立即自动提交
- **适用场景**：开发时实时保存进度
- **防重复**：30秒内只提交一次，避免频繁提交

#### 2. 定时提交模式
```bash
./auto_commit_timer.sh 60  # 每60秒检查一次
```
- **特点**：每隔指定时间自动检查并提交
- **适用场景**：长时间工作，定期保存进度
- **自定义间隔**：可以设置任意时间间隔

#### 3. 手动快速提交
```bash
gcp "你的提交信息"  # 快速提交并推送
```
- **特点**：需要手动触发，但比传统方式更快
- **适用场景**：需要控制提交时机的场景

### 自动化特性

#### 智能检测
- 只提交有实际变化的文件
- 自动忽略`.gitignore`中的文件
- 避免提交空内容

#### 自动推送
- 提交后自动推送到所有配置的远程仓库
- 支持GitHub和Gitee同时推送
- 推送失败会显示错误信息

#### 详细日志
- 显示每次自动操作的结果
- 包含时间戳和用户信息
- 彩色输出，易于识别状态

### 全局配置

#### 新项目自动获得功能
```bash
# 创建新项目（自动配置自动提交功能）
newproject my-awesome-project xwy

# 添加GitHub远程仓库
setgithub xwy/my-awesome-project
```

#### 全局Git配置
- 所有新项目都会自动获得post-commit hook
- 全局Cursor配置支持自动保存和格式化
- 终端别名和函数已配置

### 使用建议

1. **开发时**：使用文件监控模式，专注编码
2. **长时间工作**：使用定时模式，定期保存
3. **团队协作**：确保代码及时同步到远程仓库
4. **重要项目**：可以结合手动模式，精确控制提交时机

### 注意事项

- 自动提交会包含时间戳和用户信息
- 建议定期检查提交历史，确保没有意外提交
- 如果推送失败，会显示错误信息但不会中断工作流
- 可以随时按Ctrl+C停止自动监控
